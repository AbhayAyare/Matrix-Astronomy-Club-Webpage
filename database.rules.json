
{
  "rules": {
    "databases": {
      "$database": {
        "documents": {
          // Gallery: Allow public read, authenticated write
          "gallery/{imageId}": {
            "allow read": "if true;",
            "allow write": "if request.auth != null;"
          },
          // Config: Allow public read, authenticated write
          "config/siteContent": {
            "allow read": "if true;", // Allow anyone to read
            "allow write": "if request.auth != null;" // Keep write restricted
          },
          // Events: Allow public read, authenticated write
          "events/{eventId}": {
            "allow read": "if true;", // Allow public read access
            "allow write": "if request.auth != null;" // Allow authenticated write access
          },
          // Members: Disallow public read, allow authenticated read, allow anyone to create (from join form)
          "members/{memberId}": {
            "allow read": "if request.auth != null;",
            "allow create": "if true;",
            "allow update, delete": "if request.auth != null;"
          },
          // Newsletter Subscribers: Disallow public read, allow authenticated read/delete, allow anyone to create
          "newsletterSubscribers/{subscriberId}": {
            "allow read, delete": "if request.auth != null;",
            "allow create": "if true;",
            "allow update": "if false;"
          },
          // Default deny for any other paths not explicitly matched above
          "match /{document=**}": {
             "allow read, write": "if false;"
          }
        }
      }
    }
  }
}

