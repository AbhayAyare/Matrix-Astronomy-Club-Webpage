
{
  "rules": {
    "databases": {
      "(default)": { // Ensure rules apply to the default database
        "documents": {
          // Config: Allow public read, authenticated write
          "config/siteContent": {
            "allow read": "if true;", // Anyone can read website content
            "allow write": "if request.auth != null;" // Only authenticated users can update content
          },
          // Events: Allow public read, authenticated write
          "events/{eventId}": {
            "allow read": "if true;", // Anyone can read event listings
            "allow write": "if request.auth != null;" // Only authenticated users can add/edit/delete events
          },
          // Gallery: Allow public read, authenticated write
          "gallery/{imageId}": {
            "allow read": "if true;", // Anyone can view gallery metadata
            "allow write": "if request.auth != null;" // Only authenticated users can add/delete gallery metadata
          },
          // Members: Disallow public read, allow authenticated read, allow anyone to create (from join form)
          "members/{memberId}": {
            "allow read": "if request.auth != null;", // Only authenticated users can view member list
            "allow create": "if true;", // Anyone can submit the join form
            "allow update, delete": "if request.auth != null;" // Only authenticated users can modify/delete members
          },
          // Newsletter Subscribers: Disallow public read, allow authenticated read/delete, allow anyone to create
          "newsletterSubscribers/{subscriberId}": {
            "allow read, delete": "if request.auth != null;", // Only authenticated users can view/delete subscribers
            "allow create": "if true;", // Anyone can subscribe via the form
            "allow update": "if false;" // Updates are generally not needed/allowed
          },
          // Default deny for any other paths not explicitly matched above
          // This ensures security by default.
          "match /{document=**}": {
             "allow read, write": "if false;"
          }
        }
      }
    }
  }
}
